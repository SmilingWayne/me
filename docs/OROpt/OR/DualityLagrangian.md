# 拉格朗日对偶到线性规划的对偶问题

初学线性规划时候，尤其是**讲到线性规划的对偶问题**的时候，常常会被各种推导和“写对偶问题”等困扰，因为涉及到各种变号、max, min 问题的转换等。然后讲完对偶以及线性规划的若干拓展，到了**凸优化**部分，引入拉格朗日函数、拉格朗日乘子、拉格朗日对偶、罚函数、KKT条件，一堆具有十分类似的，又让人云里雾里。高等数学微积分部分涉及过的拉格朗日函数，一下子和优化问题结合起来，难免让人感到难以应付。

所以这里尝试一个新的理解对偶问题的思路。**从拉格朗日对偶到线性规划的对偶问题**。我们试着从反方向推导一次。顺便梳理一下拉格朗日对偶的若干做法，复习线性规划对偶问题的若干模型和推理。适合对拉格兰日函数、线性规划对偶问题有一定基础和了解的同学。推导过程难免有误，欢迎指正。

## 拉格朗日对偶

这是本笔记最大、涵盖范围最广的概念。我们会先从这个大概念出发，涉及一些基本的推导，然后越缩越小，最后以一个“**降维打击**”的的态势回到运筹学最开始的**线性规划的对偶问题**。

首先我们给出一个**原始的优化问题**。

$$\begin{align*}
\min_{x} & \quad f_0(x) \\
\text{s.t.} & \quad f_i(x) \leq 0, \quad i = 1, 2, \dots, m \\
& \quad h_j(x) = 0, \quad j = 1, 2, \dots, p
\end{align*}$$


这里，如果有类似 $f_i(x) \geq 0$的形式，需要修改符号转成上述标准形式，否则后续推导会出现一些难以解释的麻烦。我们把类似上述的结构的优化问题定义为**原始问题** (Primal Problem)。

这里，在求解原问题的对偶问题时，并不要求原始问题一定是凸问题， $f(x)， g(x)$可以是一般函数而不一定非要是凸函数。

我们可以把约束条件写到目标函数上，也就是：

$$\begin{align*}
L(x, \lambda, v) &= f_0(x) + \sum_{i=1}^{m} \lambda_i f_i(x) + \sum_{j=1}^{p} v_j h_j(x)
\end{align*}$$

$x \in \mathbb{R}^n, \lambda \in \mathbb{R}^m, v \in \mathbb{R}^p$。

这里相较Primal Problem引入了两个拉格朗日乘子：$\lambda$ 和 $v$。

现在，我们需要引入最后一个新概念：拉格朗日对偶问题：

$$g(\lambda, v) = \inf_{x} L(x, \lambda, v)$$

这里的 $\inf$ 符号表示取**下确界**。求解析式的做法可以是先把 $L$ 看成是关于 $x$ 的函数，而将拉格朗日乘子看作常数，求出  $L$ 的极小值点，再将该点代入 $L$ ，得到的关于 $\lambda$  和 $v$ 的表达式就是对偶函数。

https://zhuanlan.zhihu.com/p/597492395

https://www.zhihu.com/question/487630483

https://zhuanlan.zhihu.com/p/103961917
