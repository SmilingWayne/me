# 供应链物流管理


##  什么是物流管理

- 买主为起点，将原材料、零部件、制成品在各个企业之间有策略地流转，最终到达客户手中，期间需要的一切活动的管理流程。

## 物流网络设计

- 在哪里设置仓库、配送中心、零售网点
- 目标
    - 在生产成本、运输成本和库存成本之间找到平衡
    - 库存管理，满足供应和需求的匹配
    - 在最高效的工厂获取所需产品，实现资源利用最优化


### 三个步骤

- 网络设计
    - 设施的数量、位置、规模、如何分配不同产品的空间、确定配送策略
- 库存策略

- 资源分配

## 目标和权衡

> 目标：设计或重新配置物流网络从而在不同的服务水平要求下，使每年的系统成本最小化，其中包括生产和采购成本、库存持有成本、设施运营成本（ 储存、搬运和固定成本）以及运输成本

- 增加仓库数量一般会造成：
  - 由于减少了平均到达容户的运输时问，从而政进了服务水平
  - 为了保证每个仓库应付客户需求的不确定性而增加安全库存，从而<u>增加了库存成本</u>
  - <u>管理费用和准备成本增加</u>
  - 减少了仓库的运出成本，即从仓库至顾客的运输成本
  - 增加了仓库的远入成本，即从供应商/制造厂到仓库的运输成本

### 数据搜集

> 终端客户、零售商、现有的（或可选的） 仓库/配送中心、制造厂和供应商的位置
> 所有产品的数量和特殊的运输方式（如冷冻运输）
> 每个位置的客户对每种产品的年需要量
> 每种运輸模式的运输费率
> 仓库成本，包括劳动力、仓库保管费用和运营维护费用
> 向客户发货的频率和运量
> 订单处理成本
> 客产服务需要和目标
> 生产和来购的成本及能力

### 数据聚类
- 对客户进行分类（Customer Cluster）
- 对产品进行分类（Product Cluster）


- 外部车队的运输费率：
  - 整车运输（TruckLoad，TL）
      - 整车运输会把全国分为许多区，基本上每个州是一个区；
      - 成本结构是不对称的
  - 零担运输（Lessthan Truck Load，LTL）
      - 等级费率（from 分级运输费率表）
      - 根据产品密度、搬运和运输难易程度、破损的责任等
      - 需要确定费率基准数
      - 运费不一定是随着距离线性变大的


### 里程估计
- 通过经度和纬度就可计算出两点之间的距离
- 考虑到直线距离和实际路程之间的误差，需要乘以系数来获取准确值

### 仓储成本
- 劳动力成本和设施成本（和吞吐量成比例）
- 固定成本（和仓库容量成比例，但是不是线性的）
- 储存成本（库存持有成本 / 和平均库存水平成比例）
- **库存周转率 = 年销售量 / 平均库存水平 （ 短期内是比较稳定的 ）**
- 每年的存储成本 = 平均库存水平 * 单位库存年持有成本 = 年销售量 * 单位库存年持有成本 / 库存周转率
  

### 仓库容量
- 平均库存水平 = 年销售量 / 库存周转率 
- 需要的存储空间 = 2 * 平均库存水平；（和峰值而不是平均库存相关！）
- 考虑到以下因素，还需要乘一个系数（比如走廊、进出和搬运、分拣分类服务、自动引导小车（AGV） 


### 服务水平需求
- 规定客户到为其服务的仓库的最大距离
- 可以将服务水平定义为到为其服务的仓库距离不超过规定值的客户数占所有此仓库服务的客户数的比例，把服务水平为95%定义为：<u>95%的客户离为其服务的仓库的距离在200英里以内</u>
    - 对于农村和偏远地区的客户来说合适


### 考虑未来的需求

- NPV

### 行业基准：配送中心的数量


- 根据产品的属性（日用品 、 医药 、 汽车？）

### 模型和数字验证

1. 先使用模型和收集到的数据重构现有的网络
2. 将模型的输出（仓储、库存、生产和运输成本等）与公司实际的会计信息比较，这通常是确定是否存在数据错误、假设不合理、模型有缺陷等问题的最好方法
3. 否进行灵敏度分析？通过对网络配置进行局部和小范围的改动，检验该系统如何反映这些改变对成
本和服务水平的影响
  - 这一步骤还包括设置一系列的What-if分析问题
  - 模型的验证过程一般需要回答以下问题：
      > 模型是否有意义？
      > 数据是否匹配？
      > 模型的结果是否可以被完全的解释？
      > 是否进行灵敏度分析？

### 解决方法

- 数学优化技术（准确算法、启发式算法）
- 仿真模型

## Dell的案例

- 5级制造、6级制造（发挥供应链的规模经济效益），区别如下图。

<figure markdown>
  ![](https://cdn.jsdelivr.net/gh/SmilingWayne/picsrepo/202310251118059.png){ width="450" }
  <figcaption>五级和六级制造的区别</figcaption>
</figure>

> 从2004年7月开始，戴尔和其合同制造商（CMs）不得不提高5级制造产品所占的比例，这带来：
> 
> - 在5级制造中，先把空机箱通过海运送到戴尔在美国或欧洲的物流中心，然后再把主板通过空运送到戴尔在美国或欧洲的物流中心
> - 戴尔需要支付主板的加速生产和空运的成本以及美国本土第三方集成商的成本
> - 由于主板缺货，对组装主板和机箱的CMs造成的空闲劳动力成本


!!! note  "L6和L5的对比"
    
    **L6: **
    
    > 离岸组装，而不在Dell的工厂组装
    
    - 通过水路运输组装好主板的机箱
    
    - 节省劳动力成本
    
    - 省去了主板空运成本
    
    - 减少了主板包装成本
    
    - 减少了供应链的灵活性
    
    - 当要与最新的处理器或者显卡配合时，更多的主板可能需要返工并实施 ECN (Engineering Change Notice)

    **L5: **

    > 在Dcll位于美国或者欧洲的工厂组装
    
    - 通过水路运输空机箱
    
    - 通过空运运输主板
    
    - 增加了供应链灵活性
    
    - 增加了主板的空运成本
    
    - 增加了美国本土的第三方集成商成本

## 库存策略和物流配置网络的协调

- 原材料库存
- 在制品库存
- 产成品库存
> 以上每种库存都有特殊的库存控制策略;为了降低系统性成本和改进服务水平，必须考虑在供应链不同水平上高效的生产、配送和库存控制策路之间的相互作用

### 战略安全库存

> 不一定每个环节都需要设置安全库存，有的是拉动生产，不需要准备安全库存；
- 考虑多个设施之间的相互作用以及这种作用对单独设施库存策略的影响
- 需要决策：
    - 哪些是MTO，哪些是MTS，在何处保留安全库存？

- 单产品、单设施、施行定期检查策略的库存模型


- **假设**
    - SI为发出订单到该设施接收货物的时间(Service Incoming
    time)，这个时间又称为到达服务时间
    - S为该设施向客广做出的承诺服务时间(committed Service time)
    - T为该设施内的加工时间(processing Time)
    - SI +  T > S
    - Net Lead Time = SI + T - S
    - 该设施要保证的安全库存为：$z\sigma \sqrt{SI - T - S}$
    - 不是与服务水平有关的安全系数；0是需求方差 

- 减少从设施2 到设施 1 的承诺服务时间，会影响设施1 和设施2 的库存量；
- 总体目标选择：
  - 每个设施合适的承诺服务时间
  - 库存存放的位置和存放量
  - 减少系统安全 库存成本


### 案例介绍

- 如何识别库存图：

<figure markdown>
  ![](https://cdn.jsdelivr.net/gh/SmilingWayne/picsrepo/202310251115853.png){ width="450" }
  <figcaption>库存图解释</figcaption>
</figure>

- 结合现实制造环节的分析：

<figure markdown>
  ![](https://cdn.jsdelivr.net/gh/SmilingWayne/picsrepo/202310251115854.png){ width="450" }
  <figcaption>库存分析</figcaption>
</figure>

> 如果一个生产单位的承诺交货时间，小于其所需零件中最大的（承诺交货时间 + 转运时间的和） + 自己加工所需时间的和，就需要保留库存。反之，就可以不保留库存。
>
> 如果在中途设计一个站，比如图三中零件1和零件3中间的，就是通过一个VMI，由零件一厂商管理零件三的；
>
> 图二和图一的最大的变化就在于，取消了零件一（也就是价值最高的）的所有库存，改成MTO；把原来不持有库存的零件4和零件6进行库存，这样存储费用降低了。同时还让零件三的承诺交货时间缩短了。
>
> 图三和图二的重大区别就在于不仅缩短了零件一的提前期，还减少了安全库存成本；


### 关键点
- 确定推拉界限：哪些MTS / 哪些 MTO 
- 利用风险共担：各种零部件需求的不确定少于最终产成品需求的不确定
- 将序贯、局部供应链优化策略替换为全局最优的策略


### 局部最优存在的问题

- 以前的策略：
    - 在靠近客户的地方保有大量库存
    - 在供应链每一个设施都囤积一些库存
    - 乐于囤积尽可能多的原材料
- 会导致不好的后果：
    - 库存周转率较低
    - 不同地区、不同产品具有不同的服务水平
    - 有时需要加急运送，导致运输成本过高

- 产品可以分为三大类型：
    - 需求变动很大、均值很小的产品
    > 对于这类产品，库存风险是主要风险，那么这种产品应该放在一级仓库，以使各零售店的需求能够集中起来，降低库存成本
    - 需求变动很小、均值很大的产品
    > 这类产品应该放在靠近终端消费者的地方，也就是二级仓库，这样能够更好的降低运输成本
    - 需求变动很小、均值很小的产品
    > 对这类产品的分析要更复杂一些，因为要考虑利润水平等其他因素


## 资源配置

- 供应链主计划 (Supply chain master planning)：协调分配生产与配送的策略和资源以达到利润最大化或成本最低的目标，要决策：

> - 怎样合理安排生产？
> - 何时生产哪种产品以及要生产多少？
> - 在哪里存放库存？
> - 如何安排运输？


### 决策支持系统

- 全局优化，它需要以优化为基础的决策支持系统(DSS)，这些DSS将供应链建模为大型混合整数线性规划的系统，能够充分考虑到供应链的复杂性和动态性。

- 扩展的供应链：从生产到满足订单需求

> Supply Chain master Plan: Marketing  + Production and Operation Management(OM,运营管理 )

|            | 网络设计 | 库存策略与管理 |  资源分配   |
| :--------: | :------: | :------------: | :---------: |
|  决策重点  | 基础设施 |    安全库存    | 生产及配送  |
|  计划期限  |   年度   |      月度      |    月度     |
|  聚类水平  |  产品族  |    单件产品    |  一类产品   |
|    频率    |   年度   |  月度 / 每周   | 月度 / 每周 |
| 投资回报率 |    高    |       中       |     中      |
|  实施时间  |   很短   |       短       |     短      |
|    用户    |   很少   |       少       |     少      |