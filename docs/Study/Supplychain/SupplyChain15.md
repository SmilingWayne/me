# 报童模型 II   

## 考虑数量折扣的报童模型

在供应链采购实际中，常常存在如下情景：对于服装等季节性产品，制造商在订货量超过某个数量后提供价格折扣，在产品生命周期的最后阶段也可能面临这样的情况。产品的未来需求不确定，采购员只有一次订购机会，在确定订货规模的时候，采购员必须考虑数量折扣。

我们考虑如下模型：

某零件零售商在制造商停产某零件前还有一次订货机会，这种零件的单位零售价是p，零售商的成本（如果没有折扣）是c，残值是s。如果零售商订购数量不少于K，那么制造商将提供折扣价c_d。零售商可以通过如下步骤确定最终订货量。


$$CSL^{*} = P(需求量 \leq O^{*}) = \dfrac{p - c}{p - s} = \dfrac{C_u}{C_o + C_u}  \tag{1}$$

$$ O^{*} = F^{-1}(CSL^{*}, \mu, \sigma) = NORMINV(CSL^{*}, \mu, \sigma) \tag{2}$$

$$Profit = (p-s)\mu NORMDIST(\dfrac{O - \mu}{\sigma}, 0, 0, 1) - $$

$$(p-s)\sigma NORMDIST(\dfrac{O - \mu}{\sigma}, 0, 1, 0) -$$

$$O(c-s)NORMDIST(O,\mu, \sigma, 1) + O(p-c)[1 - NORMDIST(O, \mu, \sigma, 1)] \tag{3}$$

- 1⃣️ 由$C_o = c -s$ 和$C_u = p -c$，借助式(1)和(2) 计算没有折扣的情况下最优周期服务水平 $CSL^{*}$和订货量$O^{*}$。利用(3)计算订货量为$O^{*}$时的预期利润；
- 2⃣️ 由$C_o = c_d -s$ 和$C_u = p -c_d$ ，借助式(1)和(2) 计算有折扣的情况下最优周期服务水平 $CSL^{*}_{d}$和订货量$O^{*}_{d}$。如果$O^{*}_{d} \geq  K$，就利用(3)计算订货量为$O^{*}_d$的预期利润，如果$O^{*}_{d} <  K$，就利用(3)计算订货量为 K的预期利润。
- 3⃣️ 如果第一步计算的利润较高，就订购$O^{*}$单位，如果步骤二利润高，则在$O^{*}_{d} \geq  K$时候订购$O^{*}_d$单位，在$O^{*}_{d} < K$时订购$K$单位。


**案例：**
SparesRUs 需要决定一款零件的订购量。已知需求服从服从正态分布，均值150，标准差40，零售价200，未售出的零件残值为0.制造商给出如下策略：如果订货低于200，则每个装置售价50，如果订购至少200件，则售价45. 问应该订购几个零件？


------

## 连续补货产品的期望周期服务水平
