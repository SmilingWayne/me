# 运筹优化求解器ortools教程（1）

!!! abstract "什么是ORtools"
    OR-Tools是一个谷歌开源的优化软件，可用于解决车辆路径规划、大规模调度、装箱问题、线性规划、整数规划、混合整数规划、图与网络以及其他复杂的运筹优化问题。

    - 参考🔗：搜索引擎搜ortools，developers.google 开头的网站就是官网。官网有非常详细的入门教程。本教程即改编于它。
    - 使用🔧：你可以通过Python / Java / C++ / C# 进行调用使用。本教程使用Python语言进行讲解。

    在Python下安装ortools：进入你的Python环境，输入命令：

    ```text
    python -m pip install --upgrade --user ortools
    ```

    即可使用。


### 线性规划（LP）

!!! note "使用ortools进行LP求解"
    
    LP问题的定义和具体形式这里不再赘述，可以参考我的小红书前几个笔记，这里总结以下ortools求解LP的框架和思路：

    1. 导入LP求解器（ortools把它包装在MPSolver接口中）；
    2. 声明LP求解器，
    3. 定义决策变量，
    4. 定义约束条件，
    5. 定义目标函数，
    6. 调用LP求解器进行求解，显示解决方案

    e.g. 我们以如下形式的LP为例进行演示。

    $$\max \hspace{5pt} 3x + 4y$$

    $$\begin{align}\begin{equation*}
    \begin{cases}
    x + 2y \leq 14 \\
    3x - y \leq 0 \\
    x - y \leq 2 \\
    \end{cases}
    \end{equation*}\end{align}$$

    具体代码如**图4**和**图5**

!!! question "Stigler Diet Problem"
    现在，我们引入一个更加规模更加庞大的复杂的线性规划问题：斯蒂格勒饮食问题（The Stigler Diet Problem），该问题以诺贝尔经济学奖获得者乔治·斯蒂格勒的名字命名，问题描述如下：

    人们所需的9种营养物质需要满足**推荐摄入限度**，给定9种物质的摄入限度，以及很多种不同食物的营养物质含量、这些食物的价格（已经经过标准化），问，能否从这些食物中找到食物摄入组合，以及组合中不同食物的购买量，==使得既能够满足九种营养物质的摄入限度，又能使花费最少呢==？

    
    | 营养物质  |  推荐摄入限度   |         营养物质          | 推荐摄入限度 |
    | :-------: | :-------------: | :-----------------------: | :----------: |
    | Calories  | 3,000  calories |   Thiamine (Vitamin B1)   |    1.8 mg    |
    |  Protein  |    70  grams    |  Riboflavin (Vitamin B2)  |    2.7 mg    |
    |  Calcium  |    .8  grams    |          Niacin           |    18 mg     |
    |   Iron    |     12  mg      | Ascorbic Acid (Vitamin C) |    75 mg     |
    | Vitamin A |    5,000  IU    |            ---            |     ----     |

    食品种类异常繁多，数据（部分）基本如下：

    |      商品      |  单个  | 1939年价格（分） | 热量（千卡） | 蛋白质（克） | 钙（克） | 铁（毫克） | 维生素A（KIU） | 硫胺素（毫克） | 核黄素（毫克） | 烟酸（毫克） | 抗坏血酸（毫克） |
    | :------------: | :----: | :--------------: | :----------: | :----------: | :------: | :--------: | :------------: | :------------: | :------------: | :----------: | :--------------: |
    | 小麦粉（强化） |  10磅  |        36        |     44.7     |    14.11     |    2     |    365     |       0        |      55.4      |      33.3      |     441      |        0         |
    |     通心粉     |  1磅   |       14.1       |     11.6     |     41.8     |   0.7    |     54     |       0        |      3.2       |      1.9       |      68      |        0         |
    | 小麦片（强化） | 28盎司 |       24.2       |     11.8     |     37.7     |   14.4   |    175     |       0        |      14.4      |      8.8       |     114      |        0         |
    |     玉米片     | 8盎司  |       7.1        |     11.4     |     25.2     |   0.1    |     56     |       0        |      13.5      |      2.3       |      68      |        0         |
    |     玉米粉     |  1磅   |       4.6        |     36.0     |     89.7     |   1.7    |     99     |      30.9      |      17.4      |      7.9       |     106      |        0         |
    |    粗玉米粉    | 24盎司 |       8.5        |     28.6     |     68.0     |   0.8    |     80     |       0        |      10.6      |      1.6       |     110      |        0         |
    |      大米      |  1磅   |       7.5        |     21.2     |     46.0     |   0.6    |     41     |       0        |       2        |      4.8       |      60      |        0         |
    |      元宵      |  1磅   |       7.1        |     25.3     |     90.7     |   5.1    |    341     |       0        |      37.1      |      8.9       |      64      |        0         |
    | 白面包（强化） |  1磅   |       7.9        |     15.0     |     48.8     |   2.5    |    115     |       0        |      13.8      |      8.5       |     126      |        0         |
    |    全麦面包    |  1磅   |       9.1        |     12.2     |     48.4     |   2.7    |    125     |       0        |      13.9      |      6.4       |     160      |        0         |
    |     红面包     |  1磅   |       9.1        |  12.4	43.9   |     1.1      |   82	0   |    9.9     |       3        |       66       |       0        |
    |     油蛋糕     |  1磅   |       24.8       |     8.0      |     13.0     |   0.4    |     31     |      18.9      |      2.8       |       3        |      17      |

    如何求解这个问题呢？






