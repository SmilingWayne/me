# ç³»ç»Ÿå»ºæ¨¡ä¸ä¼˜åŒ–


## 0922 

!!! abstract "è¯¾ç¨‹ç®€ä»‹" 

    äº¤é€šç›¸å…³ï¼šå‡ºè¡Œè¡Œä¸ºã€ç½‘ç»œå‡è¡¡ã€‚

    æœ€åå‡ èŠ‚è¯¾æ˜¯ç ”ä¸€åŒå­¦çš„äº¤æµå’Œè®¨è®ºã€‚å¹¶ä¸é€‚åˆä¸åŒä¸“ä¸šæ–¹å‘çš„åŒå­¦ä¿®è¿™é—¨è¯¾ã€‚

    > xwè€å¸ˆã€xhlè€å¸ˆã€wzlè€å¸ˆ

    å‡ºå‹¤ï¼š15%ï¼›
    è®¨è®ºå‚ä¸åº¦ï¼š15%ï¼›
    é€‰ä¸€ä¸ªæŠ¥å‘Šè¿›è¡Œçºªè¦ä»¥åŠè‡ªå·±çš„æ€è€ƒï¼š30%ï¼›
    é€‰ä¸€ä¸ªè®ºæ–‡è¿›è¡Œç»†è‡´é˜…è¯»åšä¸€ä¸ªPPTè¿›è¡Œæ±‡æŠ¥ï¼š40%ï¼›

    -------------

    **Sheffi** MIT Urban Transportation-networks

!!! note "åˆ†ç±»"
    - é“è·¯äº¤é€šæµï¼ˆå¾®è§‚ï¼Œé©¾é©¶å‘˜è¡Œä¸ºï¼Œè½¦è¾†é€Ÿåº¦ã€å¯†åº¦å’Œæµé‡ï¼‰ï¼›
    - **ç½‘ç»œäº¤é€šæµ**ï¼ˆå®è§‚ï¼Œå‡ºè¡Œæ—¶é—´ã€å‡ºè¡Œæ–¹å¼å’Œè·¯å¾„ï¼‰ğŸŒŸ


!!! note "äº¤é€šç½‘ç»œå‡è¡¡åˆ†æçš„è¾“å…¥ï½œè¾“å‡º"
    è¾“å…¥ï¼š

    - äº¤é€šç½‘ç»œæ‹“æ‰‘ç»“æ„ï¼›
    - è·¯æ®µå‡ºè¡Œæ—¶é—´ï¼ˆæˆæœ¬ï¼‰å‡½æ•° â€”â€” é˜»æŠ—å‡½æ•°ï¼ˆå’Œæµé‡å·®ä¸å¤šæ­£ç›¸å…³ï¼‰ï¼›
    - äº¤é€šéœ€æ±‚åˆ†å¸ƒçŸ©é˜µï¼ˆOD demand matrix, OD demand  function æœ‰æ—¶å€™éœ€æ±‚ä¸æ˜¯å›ºå®šçš„ï¼Œå› ä¸ºå’Œ==å‡ºè¡Œæˆæœ¬æ˜¯ç›¸å…³çš„==é€’å‡å‡½æ•°ï¼‰ï¼›
    - **å‡ºè¡Œè€…**è·¯å¾„é€‰æ‹©å†³ç­–è§„åˆ™ï¼ˆPath choice rulesï¼‰

    ------------

    è¾“å‡ºï¼š
    
    - è·¯æ®µçš„æµé‡åˆ†å¸ƒå’Œå‡ºè¡Œæ—¶é—´

!!! note "æè¿°"
    - Linkï¼šè·¯æ®µï¼ˆä¸€ä¸ªæœ‰å‘è¾¹ï¼‰
    - Nodeï¼šèŠ‚ç‚¹N
    - Pathï¼šè·¯å¾„ï¼Œä»ä¸€ä¸ªèŠ‚ç‚¹é€šå‘å¦ä¸€ä¸ªèŠ‚ç‚¹çš„æœ‰å‘è¾¹é›†åˆï¼›


    ---------

    1. ä¸€ä¸ªè·¯å£çš„ä¸åŒæè¿°ï¼šç”¨å››ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªåå­—è·¯å£è€Œä¸æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ã€‚ï¼ˆæ ¹æ®éœ€æ±‚å†³å®šï¼‰


    ### è·¯æ®µ-è·¯å¾„å…³è”çŸ©é˜µ

    > è¿™ä¸ªè·¯å¾„æ˜¯å¦åŒ…å«ä¸€ä¸ªlinkï¼ŒåŒ…å«å°±æ˜¯1å¦åˆ™0ã€‚å¯ä»¥çœ‹å‡º==å“ªä¸ªè·¯å¾„éƒ½ç»è¿‡äº†ä¸€ä¸ªè·¯æ®µ==ï¼›

    $$\begin{bmatrix} 1 & 2 & \cdots & k & \cdots & K \\ 2 & & & &  \\ 3 & & & &  \\ \cdots  & & \delta^{rs}_{a,k} &  &  \\ A & & & &  \end{bmatrix}$$

    çŸ©é˜µçš„åˆ—æ•°æ˜¯ $r$ åˆ° $s$ çš„è·¯å¾„æ•°é‡ï¼›çŸ©é˜µçš„è¡Œæ˜¯å›¾ä¸­æ‰€æœ‰çš„è·¯æ®µæ•°ï¼›

    $\delta^{rs}_{a,k}$ : å¦‚æœè¿æ¥ $r$ åˆ° $s$ çš„è·¯å¾„ $k$ ï¼Œå…¶åŒ…å«ç¬¬ $a$ ä¸ªè·¯æ®µï¼Œåˆ™ä¸º1ï¼Œå¦åˆ™ä¸º0


    ### è·¯æ®µã€è·¯å¾„æµé‡å’Œæ—¶é—´

    è·¯æ®µæµé‡ï¼š$x_a = \sum \sum f^{rs}_k \delta^{rs}_{a,k}$,   çŸ©é˜µè¡¨ç¤ºä¸º $x = \delta f$ ï¼Œæ„æ€æ˜¯ç»è¿‡è¿™ä¸ªè·¯æ®µçš„æ¯ä¸ªè·¯å¾„çš„æµé‡å’Œï¼›

    æ—¶é—´å…³ç³»ï¼š $c^{rs}_k = \sum t_a(x_a)\delta^{rs}_{a,k}, \forall k, r,s$ ï¼Œè·¯å¾„ $k$ ä¸Šæ‰€æœ‰è·¯æ®µçš„æ—¶é—´å’Œï¼›


    ### è·¯æ®µé˜»æŠ—å‡½æ•°

    - $t_a(x_a)$ï¼š è·¯æ®µé˜»æŠ—å‡½æ•°ï¼šåªè·Ÿè·¯æ®µaçš„æµé‡æœ‰å…³ï¼ˆseparableï¼‰
    - $t_a(\mathbb{x})$ : è·¯æ®µæµåŠ¨æ—¶é—´å’Œè·¯æ®µå‘¨è¾¹çš„è·¯æ®µçš„æµé‡ä¹Ÿæœ‰å…³ï¼ˆnon-separableï¼‰

    - é›¶æµæ—¶é—´ï¼šè·¯æ®µä¸ºç©ºé—²çŠ¶æ€ï¼Œè½¦è‡ªç”±è¡Œé©¶å®Œè¯¥æ®µæ‰€éœ€çš„æ—¶é—´ï¼›
    - æµé‡é€¼è¿‘é€šè¡Œæé™ï¼Œé˜»æŠ—æ€¥å‰§ä¸Šå‡ï¼Œå‡ºè¡Œæ—¶é—´è¶‹å‘æ­£æ— ç©·ã€‚


    > Davidson's formula
    > 
    > $t_a(x_a) = t^0_a [1 + \alpha \dfrac{x_a}{C_a - x_a}]$
    > 
    > $C_a$ æ˜¯æœ€å¤§çš„è·¯æ®µæµé‡ï¼Œ$x_a < C_a$

    > BPR function 
    > 
    > $t_a(x_a) = t^0_a [1 + \alpha (\dfrac{x_a}{C_a})^{\beta}]$ , $\alpha = 0.15, \beta = 4$ï¼Œ  $C_a$ å¯ä»¥ $< x_a$ï¼Œä¸€æ—¦è¶…è¿‡è®¾è®¡æµé‡ï¼Œé˜»æŠ—å‡½æ•°ä¼šæ€¥å‰§å¢åŠ ï¼›


    ### äº¤é€šéœ€æ±‚çŸ©é˜µã€å‡½æ•°

    $$\begin{bmatrix} & 1 & 2 & \cdots & s \\ 1 & q_{11} & & & \\ 2 & & & & \\ \cdots & & & & \\ r & & & & q_{rs}   \end{bmatrix}$$


    $q_{rs} = D_{rs}(c_{rs}), \forall r,s$ (OD demand function),è¡¨ç¤ºä» $r$ åˆ° $s$ çš„è¿è¾“éœ€æ±‚ã€‚ è¿™é‡Œ $c_{rs}$ æ˜¯æˆæœ¬ï¼›

    $c_{rs} = D^{-1}_{rs}(q_{rs})$ï¼Œåå‡½æ•°ï¼›


    ### è·¯å¾„é€‰æ‹©å†³ç­–è§„åˆ™ 

    - æ•ˆç”¨æœ€å¤§åŒ–ï¼šæœ€å°æ—¶é—´ã€æœ€å°æ€»æˆæœ¬ã€æœ€å°åœç«™ã€....

## ç”¨æˆ·å‡è¡¡ï¼ˆUEï¼‰
    
- Each user wishes to minimize his or her travel time.
- åŒä¸€OD-pairä¹‹é—´æ‰€æœ‰è¢«ä½¿ç”¨è·¯å¾„çš„å‡ºè¡Œæ—¶é—´ç›¸ç­‰ï¼Œå¹¶æ¯”æœªä½¿ç”¨çš„è·¯å¾„çŸ­ï¼›
- æ‰€æœ‰å‡ºè¡Œè€…ä¸å¯èƒ½**å•æ–¹é¢**æ”¹å˜è‡ªå·±çš„è·¯å¾„é€‰æ‹©æ¥é™ä½å‡ºè¡Œæˆæœ¬ï¼Œå› æ­¤ä¸å­˜åœ¨æ”¹å˜è·¯å¾„é€‰æ‹©å†³ç­–çš„åŠ¨æœºã€‚

> å›šå¾’å›°å¢ƒã€‚

```mermaid
flowchart LR
   1 --link1 --> 2
   1 --link2 --> 2

```

$t_1 = 2 + x_1, t_2 = 1 + 2x_2, x_1 + x_2 = 5$ï¼Œé—® $x_1$ å’Œ $x_2$ æœ€ç»ˆçš„æµé‡åˆ†åˆ«æ˜¯å¤šå°‘ï¼Ÿ

> çœ‹ï¼šå¦‚æœLink 1 ç»å¯¹å ä¼˜ï¼Œé‚£ä¹ˆæ‰€æœ‰æµé‡éƒ½èµ° Link 1 çš„è´¹ç”¨å¿…ç„¶æ¯” æ­¤æ—¶çš„ Link 2 è¿˜è¦å°ã€‚æ¯”è¾ƒå‘ç°ï¼Œæ­¤æ—¶ä¸€å®šæ˜¯ $x_1, x_2$ éƒ½æœ‰ä¸”äºŒè€…è´¹ç”¨ç›¸åŒæ—¶å€™æ‰æ˜¯å‡è¡¡ã€‚

---------




æ•°å­¦æè¿°

$\text{if} \hspace{5pt} f^{rs}_k = 0, c^{rs}_k > c^{rs}_{\text{min}};$

$\text{if} \hspace{5pt}  f^{rs}_k > 0, c^{rs}_k = c^{rs}_{\text{min}};$ å¯ä»¥è½¬åŒ–æˆéçº¿æ€§äº’è¡¥é—®é¢˜(`Nonlinear Complementarity Problem`)ï¼š

$$\begin{align}\begin{equation*}
\begin{cases}
f^{rs}_k (c^{rs}_k - c^{rs}_{\text{min}})  & =   0 \\
f^{rs}_k  & \geq   0 \\ 
c^{rs}_k - c^{rs}_{\text{min}} &  \geq   0 \\
\sum_kf^{rs}_k &  =  q_{rs}, \hspace{5pt} \forall r, s 
\end{cases}
\end{equation*}\end{align}$$


### ç­‰ä»·çš„æ•°å­¦è§„åˆ’æ¨¡å‹ï¼ˆUE-MPï¼‰

> BMW formulation ; æœ€ä¼˜è§£æ»¡è¶³çš„æ¡ä»¶å°±æ˜¯æˆ‘ä»¬ä¸Šé¢çš„çº¿æ€§äº’è¡¥æ¡ä»¶(KKT condition)ï¼Œè¿™é‡Œçš„ç›®æ ‡å‡½æ•°çš„å½¢å¼å®é™…ä¸Šæ˜¯äººä¸ºæ„é€ å‡ºæ¥æ»¡è¶³æ¡ä»¶çš„è¡¨è¾¾å¼ï¼›

$$\min z(x) = \sum \int^{x_a}_0 t_a(\omega)d\omega \\
s.t. 
\begin{align}\begin{equation*}
\begin{cases}
\sum_kf^{rs}_k & = q_{rs} \hspace{5pt} \forall r, s  \\ 
f^{rs}_k & \geq 0 , \hspace{5pt} \forall k\\
x_a & = \sum_{rs} \sum_{k} f^{rs}_k \delta^{rs}_{a,k}, \forall a
\end{cases}
\end{equation*}\end{align}$$

!!! note "è§£é‡Š"
    è¿™ä¸ªé—®é¢˜çš„å†³ç­–å˜é‡æ˜¯$f^{rs}_k$ï¼Œä¹Ÿå°±æ˜¯è·¯æ®µçš„æµé‡ã€‚ç¬¬ä¸€ä¸ªçº¦æŸå¯¹åº”æ€»é‡çº¦æŸï¼ˆéœ€æ±‚ = æµé‡ï¼‰ï¼›ç¬¬äºŒä¸ªçº¦æŸå¯¹åº”æµé‡éè´Ÿçº¦æŸï¼›ç¬¬ä¸‰ä¸ªçº¦æŸå¯¹åº”æ¯ä¸ªè·¯æ®µçš„æµé‡çº¦æŸï¼›



å†™å‡ºä¸Šè¿°é—®é¢˜çš„KKTæ¡ä»¶ï¼š

1. $\sum_{a} t_a(x_a) \dfrac{\partial x_a}{\partial f^{rs}_k} - \lambda_{rs} - \mu_{k}^{rs} = 0$
2. $\sum_kf^{rs}_k = q_{rs}, \hspace{5pt} \forall r, s$
3. $f^{rs}_k \geq 0 \hspace{5pt} \forall k, r,s$
4. $\mu^{rs}_k \geq 0\hspace{5pt} \forall k, r,s$
5. $f^{rs}_k \mu^{rs}_k = 0, \hspace{5pt} \forall k, r,s$

> ç»†èŠ‚ï¼šï¼ˆ2ï¼‰çš„ç¬¬2ä¸ªçº¦æŸå¹¶ä¸æ˜¯ $\leq$ ï¼Œè€Œæ˜¯ $\geq$ï¼Œåœ¨å¤„ç†çš„æ—¶å€™è¦å…ˆå˜å·ï¼Œç„¶åå†ä½¿ç”¨ `KKT condition`ã€‚ç”±äºç­‰å¼çº¦æŸæ²¡æœ‰ç¬¦å·é™åˆ¶ï¼Œæ‰€ä»¥å¯¹åº”çš„æ‹‰æ ¼æœ—æ—¥ä¹˜å­å¯ä»¥å˜å·ä¸å½±å“è®¡ç®—ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿ä¹Ÿå–è´Ÿã€‚
> 
> è§ï¼šæœ¬æ–‡ç»“å°¾éƒ¨åˆ†ï¼ŒKKTæ¡ä»¶çš„æ¨å¯¼ã€‚æ€è·¯æçº²ï¼šç­‰å¼çº¦æŸ + ä¸ç­‰å¼çº¦æŸ -> æ‹‰æ ¼æœ—æ—¥å‡½æ•° -> æ‹‰æ ¼æœ—æ—¥å‡½æ•°çš„ä¸€é˜¶å¯¼æ•°ä¸ä¹˜å­æ»¡è¶³çš„æ€§è´¨ã€‚äº”ä¸ªæ¡ä»¶ã€‚

ç”±ï¼ˆ2ï¼‰çš„ç¬¬ä¸‰ä¸ªçº¦æŸå¯è§ï¼Œ$\dfrac{\partial x_a}{\partial f^{rs}_k} = \delta^{rs}_{a,k}, \forall r,s,k$ï¼Œä¹Ÿå°±æ„å‘³ç€ $\sum_{a} t_a(x_a) \dfrac{\partial x_a}{\partial f^{rs}_k} = \sum t_a(x_a) \delta^{rs}_{a,k} = c^{rs}_k$ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ$r$åˆ°$s$ç¬¬$k$æ¡è·¯çš„æ—¶é—´è¿™ä¸ªå˜é‡è¿™ä¸ªç”¨ä¸Šäº†ã€‚

æ‰€ä»¥å¯ä»¥æŠŠä¸Šè¿°KKTæ¡ä»¶æ•´ç†æˆ: $c^{rs}_k - \lambda_{rs} = \mu^{rs}_k; \mu^{rs}_k f^{rs}_k = 0$ï¼Œæ‰€ä»¥å¯çŸ¥ï¼š

1. if $\mu^{rs}_k = 0, c^{rs}_k = \lambda^{rs}$ï¼Œæ­¤æ—¶$f^{rs}_k \geq 0$
2. if $\mu^{rs}_k \geq 0, c^{rs}_k \geq \lambda^{rs}$ï¼Œæ­¤æ—¶$f^{rs}_k = 0$

> å…¶å®æ˜¯ä¸€ä¸ªäº’è¡¥æ¾å¼›çš„è¡¨ç¤ºï¼›

è¯´æ˜æ— è®ºä½•ç§æƒ…å†µï¼Œ$\lambda^{rs} = c^{rs}_{\text{min}}$.

> The optimal solution of the optimization problem (MP) = UE condition



### è§£çš„å­˜åœ¨æ€§å’Œå”¯ä¸€æ€§

UE-MPæ¨¡å‹æ˜¯ä¸€ä¸ªä¸¥æ ¼å‡¸è§„åˆ’å½“ä¸”ä»…å½“è·¯æ®µå‡ºè¡Œæ—¶é—´å‡½æ•°æ˜¯ä¸¥æ ¼å•è°ƒå¢å‡½æ•°ï¼Œæ­¤æ—¶è§£å­˜åœ¨ä¸”å”¯ä¸€ã€‚(å¯¹äºè·¯æ®µæ¥è¯´æ˜¯å”¯ä¸€çš„ï¼Œä½†æ˜¯å¯¹äºè·¯å¾„è€Œè¨€ä¸ä¸€å®šæ˜¯å”¯ä¸€çš„)


```mermaid
flowchart LR
   1 --link1 --> 3
   2 --link2 --> 3
   3 --link3 --> 4
   3 --link4 --> 4
   4 --link5 --> 5 
```

æ­¤æ—¶æˆ‘ä»¬å·²çŸ¥é˜»æŠ—å‡½æ•° $t_1 = 1, t_2 = 2, t_3 = 2x_3, t_4 = 2 + 2x_4, t_5 = 1$ï¼Œä¹ŸçŸ¥é“$q_{15} = 2, q_{25} = 3$, æ±‚UEçŠ¶æ€ã€‚æˆ‘ä»¬æš‚å®š 1 -> 3 -> 5 æ˜¯ $f^{15}_1$ï¼Œ åŒæ · 1 -> 4 -> 5 æ˜¯ $f^{15}_2$ï¼Œä»¥æ­¤ç±»æ¨ï¼š2 -> 3 -> 5 æ˜¯ $f^{25}_1$ï¼Œ åŒæ · 2 -> 4 -> 5 æ˜¯ $f^{25}_2$

å¾ˆæ˜æ˜¾ä¸å­˜åœ¨ä¸€ç§æƒ…å†µæ˜¯å¤§å®¶éƒ½åªèµ° link3 or link4ã€‚ æˆ‘ä»¬å¯ä»¥åˆ—å‡ºè®¡ç®—å…¬å¼ï¼š

$2 + 2(f^{15}_{1} + f^{25}_1 ) = 2 (f^{15}_2 + f^{25}_2)$ å¹¶ä»£å…¥éœ€æ±‚æ€»é‡2å’Œ3. è®¡ç®—å¾—å‡º: $f^{15}_1 + f^{25}_1 = 3$ã€‚æ­¤æ—¶è¿™ä¸¤æ¡è·¯åªè¦ä¿è¯èµ°3çš„æµé‡å’Œæ˜¯3å³å¯ã€‚æ¯”å¦‚ï¼š



| $f^{15}_1$ | $f^{15}_2$ | $f^{25}_1$ | $f^{25}_2$ |
| :--------: | :--------: | :--------: | :--------: |
|     2      |     0      |     1      |     2      |
|     0      |     2      |     3      |     0      |

è¿™ä¸¤ç§æƒ…å†µä¸‹å¹³è¡¡è·¯å¾„æµé‡åˆ†é…æ˜¯ä¸åŒçš„ï¼Œä½†æ˜¯è¿™ä¸¤ç§æƒ…å†µå¯¹åº”çš„è·¯æ®µæµé‡åˆ†é…æ˜¯ç›¸åŒçš„ã€‚éƒ½æ˜¯å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š

| Link1 | Link2 | Link3 | Link4 | Link5 |
| :---: | :---: | :---: | :---: | :---: |
|   2   |   3   |   3   |   2   |   5   |


**æ‰€ä»¥é—®é¢˜è™½ç„¶åªæœ‰ä¸€ä¸ªå¹³è¡¡è·¯æ®µæµé‡åˆ†å¸ƒç»“æœï¼Œå´æœ‰æ— é™ä¸ªå¹³è¡¡è·¯å¾„æµé‡åˆ†å¸ƒç»“æœã€‚**


## 1008 

UEä¸ä¸€å®šæ˜¯æ‰€æœ‰å‡ºè¡Œè€…å‡ºè¡Œæ—¶é—´æœ€å°çš„è§£ï¼›å› æ­¤æå‡ºç³»ç»Ÿæœ€ä¼˜çš„æ¦‚å¿µã€‚SO-MP

$$\min \sum_{a} x_a t_a(x_a)
s.t. \\
\begin{align}\begin{equation*}
\begin{cases}
\sum_k f^{rs}_k \ q_{rs} \\ 
\end{cases}
\end{equation*}\end{align}$$

SO flow is not stable: é™¤éSOå’ŒUEæ˜¯ç­‰ä»·çš„ã€‚


å¦‚æœç”¨æˆ·æ„ŸçŸ¥çš„æ—¶é—´ç”¨ t flow _a(x_a)  æ¥è¡¨ç¤ºçš„è¯ï¼Œé‚£ä¹ˆæ±‚è§£UEçš„æƒ…å†µå°±æ˜¯SOçš„ã€‚

> If each user perceived link travel time as marginal link travel time and chooses the route accordingly, the resulting UE would be SO
>
> Implication: if the user pay the ==full cost== that his or her travel incurs to the system, the system will be optimum

$\tilde{t_a}(x_a) = t_a(x_a) + x_a \dfrac{\partial t_a(x_a)}{\partial x_a} = \dfrac{}{}$

è´Ÿå¤–éƒ¨æ€§ï¼šå¤šå‡ºæ¥çš„éƒ¨åˆ†æ˜¯è‡ªå·±èµ°è¿™ä¸ªè·¯æ®µç»™å…¶ä»–ç”¨æˆ·å¸¦æ¥çš„å½±å“ã€‚ï¼ˆå¯ä»¥é€šè¿‡æ”¶è´¹æ¥ç»™å‡ºï¼‰


### å¼¹æ€§éœ€æ±‚ä¸‹çš„UE-MPæ¨¡å‹





`marginal path travel time`


### å˜åˆ†ä¸ç­‰å¼çš„æ¨¡å‹

General(non-separable) link performance $t_a(x\mathbb{x})$, $\mathbb{x}$ is a vector of flows. 

è¿™é‡Œå¦‚æœä¸åŒå˜é‡ä¹‹é—´ç§¯åˆ†æœ‰é¡ºåºåŒºåˆ«ï¼Œå…ˆç§¯ä¸€ä¸ªåå¦ä¸€ä¸ªï¼Œæ­¤æ—¶å¯¹ç›®æ ‡å‡½æ•°é‡Œçš„ç§¯åˆ†å°±æœ‰æ›´é«˜çš„è¦æ±‚äº†ã€‚æ‰€ä»¥ä¸èƒ½ç”¨è¿™ç§æ¨¡å‹ç»§ç»­è¡¨è¾¾ã€‚

ä¸ºä»€ä¹ˆå¯ä»¥å¤„ç† non-separable çš„æƒ…å†µï¼šæ²¡æœ‰ç§¯åˆ†äº†ï¼Œè½¬åŒ–ä¸ºä¸ç­‰å¼çš„å½¢å¼äº†ï¼š

$t(x^*)^T(x - x^*) \geq 0, \forall x \in \Omega$ . 

### Braess Paradox

è‡ªç§çš„å‡ºè¡Œé€‰æ‹©ã€‚ï¼ˆè¡¥å……ï¼‰

### å¼¹æ€§å¯å˜éœ€æ±‚


å¦‚æœè€ƒè™‘æ•´ä½“çš„æƒ…å†µï¼Œè¿˜ç”¨åŸæ¥çš„ç›®æ ‡å‡½æ•°ï¼Œå°±ä¼šå‡ºç°ï¼šâ€œæ²¡æœ‰äººå‡ºè¡Œâ€çš„æƒ…å†µã€‚æ­¤æ—¶ç³»ç»Ÿæœ€ä¼˜çš„ç›®æ ‡è¦è°ƒæ•´ä¸ºâ€œæœ€å¤§åŒ–ç¤¾ä¼šç¦åˆ©â€ï¼ˆnet economic benefitï¼‰

æ¶ˆè´¹è€…å‰©ä½™ï¼šå®é™…ä¸ŠåªèŠ±è´¹äº†æ›´å°‘çš„æ—¶é—´ï¼Œå®é™…ä¸Šç”¨æˆ·æ„¿æ„èŠ±æ›´å¤šçš„æ—¶é—´ï¼ˆconsumer surplusï¼‰

total user benefits: æ‰€æœ‰çš„ç”¨æˆ·æ”¶ç›Šï¼›ä¸‹é¢çš„å››è¾¹å½¢ç»™å‡ºçš„æ˜¯å‡ºè¡Œæ—¶é—´æˆæœ¬ã€‚



!!! note "KKTæ¡ä»¶Cheatsheet"

    è€ƒè™‘å¦‚ä¸‹çš„ä¼˜åŒ–é—®é¢˜ï¼š

    $$\min f(x) \\
    s.t. \begin{aligned}\begin{equation*}
    \begin{cases}
    h_i(x) = 0, \hspace{5pt} \forall i = 1, 2, ... m \\ 
    g_j(x) \leq 0, \hspace{5pt} \forall j = 1, 2, ... n \\     
    \end{cases}
    \end{equation*}\end{aligned}$$

    åˆ†åˆ«æ·»åŠ æ‹‰æ ¼æœ—æ—¥ä¹˜å­å¹¶è½¬åŒ–æˆæ— çº¦æŸä¼˜åŒ–é—®é¢˜ï¼Œæ¨å¯¼åå¾—å‡ºè¯¥çº¦æŸæ¡ä»¶æœ€ä¼˜è§£å¿…ç„¶æ»¡è¶³çš„äº”ä¸ªæ¡ä»¶ï¼Œç§°ä¸ºâ€œKKTæ¡ä»¶â€ï¼ˆKKT conditionï¼‰

    1. $\nabla f(x^*) + \sum_{i = 1}^m \lambda_i \nabla h_i(x^*) + \sum \mu_j \nabla g_j(x^*) = 0$; ä¸€é˜¶åå¯¼æ•°ç­‰äº $0$
    2. $h_i(x^*) = 0, \hspace{5pt} \forall i = 1, 2, ... m$ï¼ŒåŸç­‰å¼çº¦æŸï¼›
    3. $g_j(x^*) \leq 0, \hspace{5pt} \forall j = 1, 2, ... n$ï¼ŒåŸä¸ç­‰å¼çº¦æŸï¼›
    4. $\mu_j \geq 0, \hspace{5pt} \forall j = 1, 2, ... n$ï¼Œè¿™æ˜¯åŸä¸ç­‰å¼çº¦æŸçš„æ‹‰æ ¼æœ—æ—¥ä¹˜å­éè´Ÿçº¦æŸï¼Œæ³¨æ„ç­‰å¼çº¦æŸä¸éœ€è¦å¯¹æ‹‰æ ¼æœ—æ—¥ä¹˜å­å†çº¦æŸäº†ï¼›
    5. $\mu_j  g_j(x^*) = 0, \hspace{5pt} \forall j = 1, 2, ... n$ï¼Œ è¿™æ˜¯ä¸ç­‰å¼çº¦æŸçš„äº’è¡¥æ¾å¼›æ¡ä»¶ï¼ˆComplementary Slackness Conditionï¼‰


!!! note "å˜åˆ†ä¸ç­‰å¼"

    å¯å¾®å‡¸ä¼˜åŒ–ï¼šæœ€ä¼˜æ€§æ¡ä»¶ï¼šä»è¿™ç‚¹å‡ºå‘çš„æ‰€æœ‰å¯è¡Œæ–¹å‘éƒ½ä¸æ˜¯ä¸‹é™æ–¹å‘ã€‚

    ä¸‹é™æ–¹å‘é›†ï¼šå’Œä¸€é˜¶å¯¼æ•°å†…ç§¯ < 0

    å¯è¡Œæ–¹å‘ï¼šç•¥è¿‡ã€‚

    $x^* \in \Omega, (x - x^*)^T\Delta \theta(x^*) \geq 0, \forall x \in \Omega$



## 1013 


!!! note "å¤ä¹ "
    UEçš„æ¦‚å¿µã€ç³»ç»Ÿæœ€ä¼˜çš„æ¦‚å¿µï¼ˆfixed demandï¼‰ï¼Œå‡ºè¡Œæ—¶é—´æ˜¯æœ€å°çš„ï¼›

    SOï¼šè€ƒè™‘ç¤¾ä¼šç¦åˆ©çš„æœ€å¤§åŒ–ï¼ˆelastic demandï¼‰

    Frank Wolfe æ±‚è§£BMWæ¨¡å‹çš„æ–¹æ³•


### ç¦»æ•£é€‰æ‹©æ¨¡å‹



### éšæœºç”¨æˆ·å‡è¡¡

UEä¸­å­˜åœ¨ç†æƒ³åŒ–å‡è®¾ï¼šå‡ºè¡Œè€…å¯¹ç½‘ç»œä¸­æœ€çŸ­å‡ºè¡Œæ—¶é—´æœ‰è®¤çŸ¥ã€‚

### é“è·¯æ‹¥æŒ¤æ”¶è´¹

random regress model.